<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intercom-Style Widget Test</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      color: #333;
      background-color: #f9f9f9;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: #fff;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    
    h1 {
      color: #6e8efb;
      margin-top: 0;
    }
    
    p {
      margin-bottom: 20px;
    }
    
    .feature-list {
      margin-bottom: 30px;
    }
    
    .feature-list li {
      margin-bottom: 10px;
    }
    
    .config-section {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 30px;
    }
    
    pre {
      background-color: #f0f0f0;
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
    }
    
    button {
      background-color: #6e8efb;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
      transition: background-color 0.3s;
    }
    
    button:hover {
      background-color: #5a7df9;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Intercom-Style Widget Test</h1>
    
    <p>This page demonstrates the Intercom-style widget with bottom navigation featuring Home, Support, Book demo, and Call me options.</p>
    
    <div class="feature-list">
      <h2>Features:</h2>
      <ul>
        <li>Modern, clean interface inspired by Intercom</li>
        <li>Bottom navigation for easy access to different sections</li>
        <li>Support chat with agent interaction</li>
        <li>Book demo with Calendly integration</li>
        <li>Call me feature with phone number collection</li>
        <li>Responsive design that works on all devices</li>
      </ul>
    </div>
    
    <div class="config-section">
      <h2>Widget Configuration:</h2>
      <p>The widget is using the following configuration:</p>
      <pre id="config-display">Loading configuration...</pre>
      
      <button id="update-config">Update Configuration</button>
    </div>
    
    <p>Click the chat button in the bottom-right corner to open the widget and explore its features.</p>
  </div>

  <script>
    // Sample widget configuration
    window.widgetConfig = {
      id: "test-widget-id",
      type: "MultiWidget",
      base: {
        widgetId: "test-widget-id",
        teamId: "test-team-id",
        name: "Test Widget",
        status: "active",
        createdAt: new Date(),
        updatedAt: new Date()
      },
      design: {
        colors: {
          primary: "#6e8efb",
          secondary: "#4a6cf7",
          text: "#333333",
          background: "#ffffff",
          gradient: {
            type: "linear",
            direction: "135deg",
            colors: ["#6e8efb", "#4a6cf7"]
          }
        },
        position: "bottom-right",
        theme: "light",
        borderRadius: 16,
        fontFamily: "-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif",
        launcher: {
          size: 60,
          shape: "circle",
          useGradient: true,
          pulseAnimation: true
        },
        shadow: "lg"
      },
      features: {
        chat: {
          enabled: true,
          greeting: "Hi there! ðŸ‘‹",
          teamName: "Adealo Team",
          agentName: "Support",
          agentAvatar: ""
        },
        bookDemo: {
          enabled: true,
          calendlyUrl: "https://calendly.com/your-company/30min",
          title: "Book a Demo",
          description: "Schedule a time with our team to see our product in action."
        },
        callMe: {
          enabled: true,
          mode: "single",
          responseType: "asap",
          responseTime: 5,
          qualificationEnabled: true,
          qualificationOptions: [
            {
              id: "sales",
              label: "Sales Inquiry",
              description: "I want to learn more about your product",
              icon: "ðŸ’¼"
            },
            {
              id: "support",
              label: "Technical Support",
              description: "I need help with a technical issue",
              icon: "ðŸ”§"
            },
            {
              id: "billing",
              label: "Billing Question",
              description: "I have a question about my bill",
              icon: "ðŸ’°"
            }
          ],
          team: {
            members: [
              {
                id: "agent1",
                name: "John Doe",
                role: "Sales Representative",
                avatar: ""
              },
              {
                id: "agent2",
                name: "Jane Smith",
                role: "Customer Support",
                avatar: ""
              }
            ],
            displayMode: "grid"
          },
          messages: {
            title: "Request a Call",
            description: "Enter your phone number and we'll call you shortly.",
            asapMessage: "We'll call you as soon as possible.",
            fixedTimeMessage: "We'll call you within {time} minutes.",
            qualificationPrompt: "How can we help you?"
          }
        }
      },
      content: {
        greeting: "Hello!",
        tagline: "How can we help?",
        labels: {
          chat: "Chat with us",
          bookDemo: "Book a demo",
          callMe: "Request a call"
        }
      },
      chatConfig: {
        offlineMessage: "We're currently offline. Leave a message and we'll get back to you soon.",
        inputPlaceholder: "Type your message...",
        useAI: true,
        aiWelcomeMessage: "Hello! I'm an AI assistant. I can help answer your questions or connect you with our team.",
        aiModel: "claude",
        teamName: "Support Team",
        responseTime: "Usually responds in a few minutes",
        showAgentNames: true,
        showAgentAvatars: true,
        requiredVisitorFields: ["email", "name"],
        fileAttachmentsEnabled: true,
        maxFileSize: 5,
        allowedFileTypes: ["image/*", "application/pdf", ".doc", ".docx", ".xls", ".xlsx"]
      }
    };

    // Display the configuration
    document.getElementById('config-display').textContent = JSON.stringify(window.widgetConfig, null, 2);

    // Update configuration button
    document.getElementById('update-config').addEventListener('click', function() {
      // Change some configuration values
      window.widgetConfig.design.colors.primary = '#' + Math.floor(Math.random()*16777215).toString(16);
      window.widgetConfig.content.greeting = "Hey there!";
      window.widgetConfig.content.tagline = "Need some help?";
      
      // Update the display
      document.getElementById('config-display').textContent = JSON.stringify(window.widgetConfig, null, 2);
      
      // Reload the widget
      const oldScript = document.getElementById('widget-script');
      if (oldScript) {
        oldScript.remove();
      }
      
      const container = document.getElementById('adealo-widget-container');
      if (container) {
        container.remove();
      }
      
      loadWidget();
    });

    // Function to load the widget
    function loadWidget() {
      const script = document.createElement('script');
      script.id = 'widget-script';
      script.src = 'intercom-style-widget.js';
      document.body.appendChild(script);
    }

    // Load the widget
    loadWidget();
  </script>
</body>
<script>window.widgetConfig = { id: 'rWcCEUG6WXyauUO7M6hj' };</script>
<script src="https://adealo-ce238.web.app/intercom-style-widget-adapter.js" data-widget-id="rWcCEUG6WXyauUO7M6hj"></script>
</html>
